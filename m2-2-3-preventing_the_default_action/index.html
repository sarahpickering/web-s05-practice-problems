<!DOCTYPE html>
<html>

<body>
  <h1>Preventing the Default Action</h1>
  <a href="https://bloomtech.com" target="_blank">Bloomtech Home Page</a>
  <button>CLICK!</button>
  <script>
    /*
    PROBLEM 1: How would you prevent the user from copying text from the document?
    */
    const handleCopy = (event) => {
      event.preventDefault();
    };
    document.addEventListener("copy", handleCopy)

    /*
    PROBLEM 2: How to go one step ahead and also prevent the user from cutting text?
    */
    const handleCut = (event) => {
      event.preventDefault();
    };
    document.addEventListener("cut", handleCut)

    /*
    PROBLEM 3: The link on the page redirects the user to bloomtech.com
    How would you change its behavior by adding a malicious code that sends the user to hacked.com ?
    */

    const externalLink = (event) => {
      event.preventDefault();
      window.open("https://hacked.com", "_blank");
    };
    document.querySelector("a").addEventListener("click", externalLink);

    /*
    PROBLEM 4: How can you prevent the default behavior of a the page's link ONLY if it belongs to the class '.prevent' ?
    */

    const externalLink2 = (event) => {
      if (event.target.classList.contains{'prevent'})
      event.preventDefault();
      window.open("https://hacked.com", "_blank");
    };
    document.querySelector("a").removeEventListener("click", externalLink)
    document.querySelector("a").addEventListener("click", externalLink2);

    /*
    PROBLEM 5 (DEBUGGING):  The code below is not preventing the default action for the button. Why? Can you fix it?
    */
    const handler1 = () => {
      window.alert("Click!");
    };
    const handler2 = (event) => {
      event.preventDefault();
    };
    document.querySelector("button").addEventListener("click", handler2);
  </script>
</body>

</html>
