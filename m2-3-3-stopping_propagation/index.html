<!DOCTYPE html>
<html id="E">

<body id="D">
  <h1>Stopping Propagation</h1>
  <section id="C">
    <div id="B">
      Stop Propagation in its tracks...
      <button id="A1">at the Button</button>
      <button id="A2">at the Div</button>
      <button id="A3">at the Section</button>
    </div>
  </section>
  <script>
    /*
    If you click on any of the three buttons while watching the console, you will see the click event bubbling up the DOM. In its trip, the event travels through the following elements: BUTTON -> DIV  -> SECTION -> BODY -> HTML

    PROBLEM 1:
    Let's modify the event handler below, to stop the bubbling in its tracks, on click of button1.
    ðŸ‘‰ If the user clicks button1, stop propagation using the stopPropagation method of the event object.
    ðŸ‘‰ In pseudo code: if target of event is equal to button1, then stop propagation.
    ðŸ‘‰ If done correctly, when clicking button1, a single line should print to the console.
    */

    const button1 = document.querySelector('#A1')
    const button2 = document.querySelector('#A2')
    const button3 = document.querySelector('#A3')
    const div = document.querySelector('#B')
    const section = document.querySelector('#C')

    Array.from(document.getElementsByTagName('*')).forEach(elem => {
      elem.addEventListener('click', evt => {
        const { id, nodeName } = evt.currentTarget
        console.log(`Event handler firing at ${id} (${nodeName})`)
        if (evt.target === button1) {
          evt.stopPropagation()
        } else if (evt.target === button2 && evt.currentTarget === div) {
          evt.stopPropagation()
        } else if (evt.target === button3 && evt.currentTarget === section) {
          evt.stopPropagation()
        }
      })
    })

    /*
    PROBLEM 2:
    Let's modify the event handler above, to stop the bubbling at the div level, on click of button2.
    ðŸ‘‰ If the user clicks button2 stop propagation at the level of the div.
    ðŸ‘‰ In pseudo code: if target of event is equal to button2, and current target is equal to div, then stop propagation.
    ðŸ‘‰ If done correctly, when clicking button2, two lines should print to the console.
    */

    /*
    PROBLEM 3:
    Let's modify the event handler further, to stop the bubbling at the section level, on click of button3.
    ðŸ‘‰ If the user clicks button3 stop propagation at the level of the section.
    ðŸ‘‰ In pseudo code: if target of event is equal to button3, and current target is equal to section, then stop propagation.
    ðŸ‘‰ If done correctly, when clicking button3, three lines should print to the console.
    */

  </script>
</body>

</html>
